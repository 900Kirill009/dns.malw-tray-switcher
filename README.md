# DNS Tray Switcher

Простая и удобная утилита для быстрого переключения DNS-серверов в Windows, которая работает из системного трея.

Демонстрация работы
![demo](https://github.com/900Kirill009/dns.malw-tray-switcher/blob/3eb79399b6ad5604d6d95337c83520e1b95850c3/Rewiew_DNS_Tray.gif)

## Функционал

-   **Быстрое переключение:** Меняйте DNS-серверы на заранее заданные (по умолчанию добавлены только dns.malw.link и GeoHide DNS) или возвращайте автоматические настройки в два клика.
-   **Визуальная индикация:** Иконка в трее меняется в зависимости от того, какой режим DNS активен.
-   **Прямой доступ к настройкам:** Быстрый переход в системные настройки Wi-Fi.

## Как это работает?

Обычный powershell-скрипт для автоматизации управления [модулем DnsClient](https://learn.microsoft.com/en-us/powershell/module/dnsclient/?view=windowsserver2025-ps). GUI для трея реализован с помощью пространства имён `System.Windows.Forms`

1.  **Основная логика** находится в файле `DNS-Tray.ps1`.
2.  **Прослойка** `DNS_Tumbler.bat` — это простой bat-файл, который запускает основной скрипт `DNS-Tray.ps1` в скрытом режиме. Нужен только для создания удобного ярлыка.
3.  **Установщик `DNS_to_tray.exe`** — самораспаковывающийся SFX-архив. Он просто достаёт файлы утилиты и создает ярлык на рабочем столе.

## Установка

1.  Перейдите на страницу **[Релизы](https://github.com/900Kirill009/dns.malw-tray-switcher/releases)**.
2.  Скачайте последнюю версию установщика (`DNS_to_tray.exe`).
3.  Запустите установщик. Он распакует все необходимые файлы и создаст ярлык на рабочем столе.
4.  Для смены DNS запуск нужно проводить от имени администратора, а без этого утилита сможет только отображать текущий выбранный DNS и открывать настройки Wi-Fi. Чтобы запуск всегда производился от имени администратора можно изменить ярлык. Для этого щёлкните правой кнопкой мыши по новому ярлыку на рабочем столе, выберите "Свойства" -> "Дополнительно..." и поставьте галочку "Запуск от имени администратора".

Так как приложение не подписано цифровым сертификатом, антивирус или фильтр Windows SmartScreen может показать предупреждение. Вы можете нажать "Подробнее" -> "Выполнить в любом случае".
